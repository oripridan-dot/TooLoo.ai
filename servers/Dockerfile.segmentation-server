# Dockerfile for segmentation-server
FROM node:20-alpine
WORKDIR /app
COPY servers/segmentation-server.js ./
COPY package.json ./
RUN npm install --omit=dev
EXPOSE 3007
ENV SEGMENTATION_PORT=3007
HEALTHCHECK --interval=30s --timeout=5s CMD wget --spider -q http://localhost:3007/health || exit 1
CMD ["node", "segmentation-server.js"]
