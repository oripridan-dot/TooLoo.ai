# Golden Inputs - Conversational & Context-Aware
# Tests for multi-turn conversations and context retention

- id: conversation-001
  name: Follow-up question handling
  category: conversation
  difficulty: medium
  input: |
    [Previous context: User asked about implementing a binary search tree]
    User: "Can you add a delete method to that?"
  expectedRoute:
    skillId: coding-assistant
    minConfidence: 0.7
  criteria:
    relevance: 5
    contextAwareness: 5
    accuracy: 4
  tags:
    - conversation
    - context
    - follow-up
  minScore: 0.7

- id: conversation-002
  name: Clarification request
  category: conversation
  difficulty: easy
  input: |
    Make it faster
  expectedRoute:
    skillId: clarification
    minConfidence: 0.5
  criteria:
    relevance: 5
    clarity: 5
  tags:
    - ambiguous
    - clarification
  minScore: 0.6

- id: conversation-003
  name: Multi-topic conversation
  category: conversation
  difficulty: hard
  input: |
    [Conversation history:
    - User asked about React hooks
    - Assistant explained useState
    - User asked about TypeScript integration
    - Assistant provided typed examples]
    User: "Going back to the hooks - what about useReducer for complex state?"
  expectedRoute:
    skillId: coding-assistant
    minConfidence: 0.8
  criteria:
    relevance: 5
    contextSwitch: 5
    accuracy: 5
  tags:
    - react
    - hooks
    - context-switch
  minScore: 0.75

- id: conversation-004
  name: Code correction request
  category: conversation
  difficulty: medium
  input: |
    [Previous: Assistant provided a function]
    User: "That's not quite right - it should handle the edge case where the array is empty"
  expectedRoute:
    skillId: coding-assistant
    minConfidence: 0.8
  criteria:
    relevance: 5
    errorCorrection: 5
    completeness: 4
  tags:
    - correction
    - edge-case
    - refinement
  minScore: 0.7

- id: conversation-005
  name: Preference learning
  category: conversation
  difficulty: hard
  input: |
    [User preferences from session:
    - Prefers functional programming style
    - Uses TypeScript strict mode
    - Wants detailed comments
    - Uses Prettier for formatting]
    User: "Create a utility function for deep merging objects"
  expectedRoute:
    skillId: coding-assistant
    minConfidence: 0.8
  criteria:
    relevance: 5
    preferenceAdherence: 5
    codeQuality: 5
  tags:
    - preferences
    - personalization
    - typescript
  minScore: 0.75

# Edge Cases
- id: edge-001
  name: Empty input handling
  category: edge-case
  difficulty: easy
  input: ''
  expectedRoute:
    skillId: clarification
    minConfidence: 0.3
  criteria:
    relevance: 5
    gracefulHandling: 5
  tags:
    - edge-case
    - empty
  minScore: 0.5

- id: edge-002
  name: Very long input
  category: edge-case
  difficulty: medium
  input: |
    [A 5000+ character technical specification with multiple requirements,
    code examples, database schemas, API contracts, and deployment instructions]
    Please analyze this and provide implementation recommendations.
  expectedRoute:
    skillId: analysis-assistant
    minConfidence: 0.6
  criteria:
    relevance: 5
    summarization: 5
    actionable: 4
  tags:
    - long-input
    - analysis
  minScore: 0.6

- id: edge-003
  name: Mixed language input
  category: edge-case
  difficulty: medium
  input: |
    Create a function to calculate 总价格 (total price) from a list of products.
    The function should handle both USD and CNY currencies.
  expectedRoute:
    skillId: coding-assistant
    minConfidence: 0.7
  criteria:
    relevance: 5
    multilingualHandling: 4
    accuracy: 5
  tags:
    - multilingual
    - i18n
  minScore: 0.65

- id: edge-004
  name: Conflicting requirements
  category: edge-case
  difficulty: hard
  input: |
    Create a sorting algorithm that is:
    - O(1) space complexity
    - O(n) time complexity
    - Stable
    - Works on any data type
    - In-place
  expectedRoute:
    skillId: clarification
    minConfidence: 0.5
  criteria:
    relevance: 5
    conflictDetection: 5
    explanation: 5
  tags:
    - impossible
    - conflict
    - clarification
  minScore: 0.6
