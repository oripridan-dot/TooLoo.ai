<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Semantic Design System - Component Test</title>
  <style>
    :root {
      --color-primary: #6366f1;
      --color-primary-dark: #3033be;
      --color-primary-hover: #7c7ff5;
      --color-secondary: #ec4899;
      --color-surface: #ffffff;
      --color-text: #1f2937;
      --font-primary: Inter, system-ui, sans-serif;
    }

    * { margin: 0; padding: 0; box-sizing: border-box; }
    html, body { height: 100%; }

    body {
      font-family: var(--font-primary);
      background: #f3f4f6;
      color: var(--color-text);
      padding: 40px 20px;
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
    }

    h1 {
      font-size: 32px;
      margin-bottom: 10px;
      color: var(--color-primary);
    }

    .subtitle {
      color: #6b7280;
      margin-bottom: 40px;
      font-size: 16px;
    }

    .section {
      background: white;
      padding: 40px;
      border-radius: 12px;
      margin-bottom: 30px;
      box-shadow: 0 1px 3px rgba(0,0,0,0.1);
    }

    .section h2 {
      font-size: 20px;
      margin-bottom: 20px;
      color: var(--color-primary);
      border-bottom: 2px solid var(--color-primary);
      padding-bottom: 10px;
    }

    .component-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 20px;
      margin-bottom: 30px;
    }

    .component-demo {
      padding: 20px;
      background: #f9fafb;
      border-radius: 8px;
      border: 1px solid #e5e7eb;
    }

    .component-demo h3 {
      font-size: 13px;
      font-weight: 600;
      text-transform: uppercase;
      color: #6b7280;
      margin-bottom: 15px;
      letter-spacing: 0.5px;
    }

    /* BUTTONS - Semantic token: color-primary */
    .button {
      display: inline-block;
      padding: 10px 16px;
      border: 1px solid;
      border-radius: 6px;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.2s;
      font-family: var(--font-primary);
      font-size: 14px;
      margin-right: 8px;
      margin-bottom: 8px;
    }

    .button.primary {
      background-color: var(--color-primary);
      color: #ffffff;
      border-color: var(--color-primary-dark);
    }

    .button.primary:hover {
      background-color: var(--color-primary-hover);
      transform: translateY(-1px);
    }

    .button.secondary {
      background-color: var(--color-secondary);
      color: white;
      border-color: #d1307d;
    }

    /* CARDS - Semantic token: color-surface */
    .card {
      background-color: var(--color-surface);
      border: 1px solid #e5e7eb;
      border-radius: 8px;
      padding: 16px;
      margin-bottom: 10px;
    }

    .card h4 {
      color: var(--color-primary);
      margin-bottom: 8px;
    }

    .card p {
      color: #6b7280;
      font-size: 14px;
      line-height: 1.5;
    }

    /* INPUTS - Semantic token: color-primary (border on focus) */
    .input-group {
      margin-bottom: 15px;
    }

    .input-group label {
      display: block;
      margin-bottom: 6px;
      font-weight: 500;
      font-size: 13px;
      color: var(--color-text);
    }

    .input {
      width: 100%;
      padding: 10px 12px;
      border: 1px solid #d1d5db;
      border-radius: 6px;
      font-family: var(--font-primary);
      font-size: 14px;
      color: var(--color-text);
      background: white;
    }

    .input:focus {
      outline: none;
      border-color: var(--color-primary);
      box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.1);
    }

    /* BADGES - Semantic tokens: color-primary, color-secondary */
    .badge {
      display: inline-block;
      padding: 4px 12px;
      border-radius: 20px;
      font-size: 12px;
      font-weight: 600;
      margin-right: 8px;
      margin-bottom: 8px;
    }

    .badge.primary {
      background: rgba(99, 102, 241, 0.1);
      color: var(--color-primary);
    }

    .badge.secondary {
      background: rgba(236, 72, 153, 0.1);
      color: var(--color-secondary);
    }

    .controls {
      background: white;
      padding: 30px;
      border-radius: 12px;
      box-shadow: 0 1px 3px rgba(0,0,0,0.1);
    }

    .control-group {
      margin-bottom: 20px;
    }

    .control-group label {
      display: block;
      margin-bottom: 8px;
      font-weight: 500;
      font-size: 13px;
      text-transform: uppercase;
      color: #6b7280;
      letter-spacing: 0.5px;
    }

    .control-group input[type="color"] {
      width: 100%;
      height: 40px;
      border: 1px solid #e5e7eb;
      border-radius: 6px;
      cursor: pointer;
    }

    .status {
      padding: 15px;
      background: #dbeafe;
      border-left: 4px solid var(--color-primary);
      border-radius: 4px;
      font-size: 13px;
      font-family: monospace;
      color: var(--color-text);
    }

    .status.success {
      background: #dcfce7;
      border-left-color: #22c55e;
    }

    .info-box {
      background: rgba(99, 102, 241, 0.05);
      border: 1px solid rgba(99, 102, 241, 0.2);
      padding: 15px;
      border-radius: 8px;
      font-size: 13px;
      line-height: 1.6;
      color: var(--color-text);
    }

    code {
      background: #f3f4f6;
      padding: 2px 6px;
      border-radius: 3px;
      font-family: monospace;
      font-size: 12px;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>üé® Semantic Design System Test</h1>
    <p class="subtitle">Components styled with semantic tokens from design-token-system.js</p>

    <!-- Buttons Section -->
    <div class="section">
      <h2>Buttons (Token: color-primary)</h2>
      <p style="margin-bottom: 20px; color: #6b7280;">These buttons automatically use the primary color token</p>
      <div class="component-grid">
        <div class="component-demo">
          <h3>Primary Button</h3>
          <button class="button primary">Primary Action</button>
        </div>
        <div class="component-demo">
          <h3>Secondary Button</h3>
          <button class="button secondary">Secondary</button>
        </div>
      </div>
      <div class="info-box">
        <code>color-primary</code> token affects: <code>.button.primary</code>, <code>.nav.active</code>, <code>input:focus</code>
      </div>
    </div>

    <!-- Cards Section -->
    <div class="section">
      <h2>Cards (Token: color-surface)</h2>
      <p style="margin-bottom: 20px; color: #6b7280;">These cards use the surface color token</p>
      <div class="component-grid">
        <div class="component-demo">
          <h3>Content Card</h3>
          <div class="card">
            <h4>Card Title</h4>
            <p>This card uses the semantic color-surface token which provides the background color and border styling.</p>
          </div>
        </div>
        <div class="component-demo">
          <h3>Another Card</h3>
          <div class="card">
            <h4>Data Card</h4>
            <p>All cards share the same token, ensuring consistent styling across the application.</p>
          </div>
        </div>
      </div>
      <div class="info-box">
        <code>color-surface</code> token affects: <code>.card</code>, <code>.panel</code>, <code>.input</code>, <code>.textarea</code>
      </div>
    </div>

    <!-- Forms Section -->
    <div class="section">
      <h2>Forms (Token: color-primary on focus)</h2>
      <p style="margin-bottom: 20px; color: #6b7280;">Input fields use the primary color for focus state</p>
      <div class="input-group">
        <label>Email Address</label>
        <input type="email" class="input" placeholder="user@example.com">
      </div>
      <div class="input-group">
        <label>Password</label>
        <input type="password" class="input" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢">
      </div>
      <div class="info-box">
        <code>color-primary</code> + <code>color-surface</code> tokens affect input styling and focus states
      </div>
    </div>

    <!-- Badges Section -->
    <div class="section">
      <h2>Badges (Multiple Tokens)</h2>
      <p style="margin-bottom: 20px; color: #6b7280;">Badges use primary and secondary color tokens</p>
      <div style="display: flex; flex-wrap: wrap; gap: 10px; margin-bottom: 20px;">
        <span class="badge primary">Feature</span>
        <span class="badge primary">New</span>
        <span class="badge secondary">Beta</span>
        <span class="badge secondary">Alert</span>
      </div>
      <div class="info-box">
        <code>color-primary</code> and <code>color-secondary</code> tokens affect badge styles
      </div>
    </div>

    <!-- How It Works -->
    <div class="section">
      <h2>How Semantic Tokens Work</h2>
      <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px;">
        <div>
          <h3 style="color: var(--color-primary); font-size: 14px; margin-bottom: 10px;">1. Input Design</h3>
          <pre style="background: #f3f4f6; padding: 10px; border-radius: 4px; font-size: 12px;"><code>{
  "colors": {
    "primary": "#6366f1"
  }
}</code></pre>
        </div>
        <div>
          <h3 style="color: var(--color-primary); font-size: 14px; margin-bottom: 10px;">2. Map Tokens</h3>
          <pre style="background: #f3f4f6; padding: 10px; border-radius: 4px; font-size: 12px;"><code>color-primary: #6366f1
color-primary-dark: #3033be
color-primary-hover: #7c7ff5</code></pre>
        </div>
        <div>
          <h3 style="color: var(--color-primary); font-size: 14px; margin-bottom: 10px;">3. Generate CSS</h3>
          <pre style="background: #f3f4f6; padding: 10px; border-radius: 4px; font-size: 12px;"><code>.button.primary {
  background: var(
    --color-primary);
}</code></pre>
        </div>
      </div>
    </div>

    <!-- Real-time Test -->
    <div class="section">
      <h2>Test: Real-time Token Changes</h2>
      <p style="margin-bottom: 20px; color: #6b7280;">Change a token color and watch components update</p>
      <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin-bottom: 20px;">
        <div class="control-group">
          <label>Primary Color</label>
          <input type="color" id="primaryColor" value="#6366f1" onchange="updateToken('--color-primary', this.value)">
        </div>
        <div class="control-group">
          <label>Primary Dark</label>
          <input type="color" id="primaryDark" value="#3033be" onchange="updateToken('--color-primary-dark', this.value)">
        </div>
        <div class="control-group">
          <label>Secondary Color</label>
          <input type="color" id="secondary" value="#ec4899" onchange="updateToken('--color-secondary', this.value)">
        </div>
      </div>
      <div id="status" class="status" style="display: none;"></div>
      <button class="button primary" onclick="resetTokens()">Reset to Default</button>
    </div>

    <!-- API Test -->
    <div class="section">
      <h2>API Integration Test</h2>
      <p style="margin-bottom: 20px; color: #6b7280;">Fetch semantic tokens from the API</p>
      <button class="button primary" onclick="testAPI()">Test /api/v1/design/apply-system</button>
      <div id="apiStatus" class="status" style="display: none; margin-top: 15px;"></div>
    </div>
  </div>

  <script>
    function updateToken(tokenName, value) {
      document.documentElement.style.setProperty(tokenName, value);
      const status = document.getElementById('status');
      status.textContent = `‚úÖ Updated ${tokenName} = ${value}`;
      status.className = 'status success';
      status.style.display = 'block';
    }

    function resetTokens() {
      document.documentElement.style.setProperty('--color-primary', '#6366f1');
      document.documentElement.style.setProperty('--color-primary-dark', '#3033be');
      document.documentElement.style.setProperty('--color-secondary', '#ec4899');
      document.getElementById('primaryColor').value = '#6366f1';
      document.getElementById('primaryDark').value = '#3033be';
      document.getElementById('secondary').value = '#ec4899';
      const status = document.getElementById('status');
      status.textContent = 'üîÑ Reset to default semantic tokens';
      status.className = 'status success';
    }

    async function testAPI() {
      const apiStatus = document.getElementById('apiStatus');
      apiStatus.style.display = 'block';
      apiStatus.textContent = '‚è≥ Calling API...';
      apiStatus.className = 'status';

      try {
        const response = await fetch('/api/v1/design/apply-system', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({
            colors: {
              primary: '#6366f1',
              secondary: '#ec4899',
              background: '#ffffff',
              text: '#1f2937'
            },
            typography: { primary: 'Inter, sans-serif' }
          })
        });

        const data = await response.json();
        const { tokens, tokenSystem, componentMap } = data.content;

        apiStatus.textContent = `‚úÖ API Response: 
  ‚Ä¢ Generated ${tokenSystem.totalTokens} semantic tokens
  ‚Ä¢ ${tokenSystem.affectedComponents} component mappings
  ‚Ä¢ color-primary affects: ${componentMap['color-primary'].join(', ')}`;
        apiStatus.className = 'status success';
      } catch (err) {
        apiStatus.textContent = `‚ùå Error: ${err.message}`;
        apiStatus.className = 'status';
      }
    }
  </script>
</body>
</html>
