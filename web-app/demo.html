<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TooLoo.ai - Extract Thinking Patterns</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            background: white;
            border-radius: 12px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            max-width: 1000px;
            width: 100%;
            margin: 0 auto;
            padding: 40px;
        }

        .header {
            text-align: center;
            margin-bottom: 40px;
        }

        .logo {
            font-size: 32px;
            font-weight: bold;
            color: #667eea;
            margin-bottom: 10px;
        }

        h1 {
            font-size: 28px;
            color: #1a1a1a;
            margin-bottom: 10px;
        }

        .tagline {
            color: #666;
            font-size: 16px;
            margin-bottom: 20px;
        }

        .use-cases-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 10px;
            margin-top: 20px;
        }

        .use-case-badge {
            background: #f0f0ff;
            color: #667eea;
            padding: 8px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
            text-align: center;
            border: 1px solid #e0d4ff;
        }

        .use-case-badge.active {
            background: #667eea;
            color: white;
        }

        .demo-section {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 30px;
            margin-top: 30px;
        }

        .demo-title {
            font-size: 18px;
            font-weight: 600;
            color: #1a1a1a;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .demo-tabs {
            display: flex;
            gap: 8px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .tab-btn {
            padding: 8px 16px;
            border: 2px solid #e0e0e0;
            background: white;
            border-radius: 6px;
            cursor: pointer;
            font-size: 13px;
            font-weight: 600;
            color: #666;
            transition: all 0.3s;
        }

        .tab-btn.active {
            background: #667eea;
            color: white;
            border-color: #667eea;
        }

        .tab-btn:hover {
            border-color: #667eea;
        }

        .comparison-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 20px;
        }

        .comparison-box {
            background: white;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            padding: 15px;
            transition: all 0.3s;
        }

        .comparison-box:hover {
            border-color: #667eea;
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.1);
        }

        .comparison-box h4 {
            font-size: 14px;
            color: #667eea;
            margin-bottom: 10px;
            font-weight: 700;
        }

        .comparison-box p {
            font-size: 12px;
            color: #666;
            line-height: 1.5;
            margin-bottom: 8px;
        }

        .thinking-style-label {
            font-weight: 600;
            color: #1a1a1a;
            font-size: 11px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        textarea {
            width: 100%;
            height: 120px;
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 6px;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            resize: vertical;
            transition: border-color 0.3s;
        }

        textarea:focus {
            outline: none;
            border-color: #667eea;
        }

        .button-group {
            display: flex;
            gap: 10px;
            margin-top: 15px;
        }

        button {
            flex: 1;
            padding: 12px 20px;
            border: none;
            border-radius: 6px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }

        .btn-analyze {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .btn-analyze:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(102, 126, 234, 0.4);
        }

        .btn-analyze:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }

        .btn-example {
            background: white;
            color: #667eea;
            border: 2px solid #667eea;
        }

        .btn-example:hover {
            background: #f0f0ff;
        }

        .output {
            margin-top: 20px;
            padding: 15px;
            background: white;
            border-radius: 6px;
            border-left: 4px solid #667eea;
            display: none;
            line-height: 1.6;
        }

        .output.show {
            display: block;
        }

        .output-title {
            font-weight: 600;
            color: #667eea;
            margin-bottom: 10px;
        }

        .output-text {
            color: #1a1a1a;
            white-space: pre-wrap;
            font-size: 14px;
        }

        .features {
            margin-top: 30px;
        }

        .features-title {
            font-size: 16px;
            font-weight: 600;
            color: #1a1a1a;
            margin-bottom: 15px;
        }

        .feature-list {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
        }

        .feature-item {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 14px;
            color: #666;
        }

        .feature-icon {
            color: #667eea;
            font-weight: bold;
        }

        .loading {
            display: none;
            text-align: center;
            margin-top: 15px;
        }

        .spinner {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid #f0f0f0;
            border-top: 3px solid #667eea;
            border-radius: 50%;
            animation: spin 0.8s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .error {
            color: #e74c3c;
            margin-top: 15px;
            padding: 12px;
            background: #ffe0e0;
            border-radius: 6px;
            display: none;
        }

        .error.show {
            display: block;
        }

        .beta-badge {
            display: inline-block;
            background: #667eea;
            color: white;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 12px;
            font-weight: 600;
            margin-left: 8px;
        }

        @media (max-width: 600px) {
            .container {
                padding: 20px;
            }

            h1 {
                font-size: 22px;
            }

            .feature-list {
                grid-template-columns: 1fr;
            }

            button {
                padding: 10px 15px;
                font-size: 13px;
            }

            .comparison-grid {
                grid-template-columns: 1fr;
            }

            .use-cases-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        .infographic {
            background: linear-gradient(135deg, #667eea15 0%, #764ba215 100%);
            border: 2px solid #e0d4ff;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
        }

        .thinking-flow {
            display: flex;
            justify-content: space-around;
            align-items: center;
            margin: 15px 0;
            flex-wrap: wrap;
        }

        .flow-item {
            flex: 1;
            min-width: 100px;
            text-align: center;
            padding: 10px;
        }

        .flow-icon {
            font-size: 28px;
            margin-bottom: 8px;
        }

        .flow-label {
            font-size: 12px;
            font-weight: 600;
            color: #667eea;
            text-transform: uppercase;
        }

        .arrow {
            font-size: 20px;
            color: #ccc;
            margin: 0 5px;
        }

        .chart-bar {
            display: flex;
            align-items: center;
            margin: 10px 0;
            gap: 10px;
        }

        .chart-label {
            min-width: 120px;
            font-size: 12px;
            font-weight: 600;
            color: #1a1a1a;
        }

        .chart-value {
            flex: 1;
            height: 20px;
            background: linear-gradient(90deg, #667eea, #764ba2);
            border-radius: 4px;
            position: relative;
        }

        .chart-text {
            font-size: 11px;
            color: white;
            padding: 0 8px;
            line-height: 20px;
            font-weight: 600;
        }
    </style>

    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="logo">TooLoo.ai</div>
            <h1>Extract Thinking Patterns</h1>
            <p class="tagline">Understand how anyone thinks through conversations</p>
            
            <div class="use-cases-grid">
                <div class="use-case-badge">🧠 Learning</div>
                <div class="use-case-badge">👥 Relationships</div>
                <div class="use-case-badge">💼 Teams</div>
                <div class="use-case-badge">🎓 Research</div>
                <div class="use-case-badge">🎬 Content</div>
                <div class="use-case-badge">🎯 Personal Growth</div>
            </div>
        </div>

        <div class="demo-section">
            <div class="demo-title">
                🧪 Try Examples <span class="beta-badge">BETA</span>
            </div>
            
            <div class="demo-tabs">
                <button class="tab-btn active" data-example="engineer">💻 Engineer</button>
                <button class="tab-btn" data-example="artist">🎨 Artist</button>
                <button class="tab-btn" data-example="mentor">👨‍🏫 Mentor</button>
                <button class="tab-btn" data-example="analyst">📊 Analyst</button>
                <button class="tab-btn" data-example="creator">✍️ Writer</button>
            </div>

            <div class="infographic">
                <div style="font-size: 13px; font-weight: 600; color: #667eea; margin-bottom: 12px;">HOW IT WORKS</div>
                <div class="thinking-flow">
                    <div class="flow-item">
                        <div class="flow-icon">💬</div>
                        <div class="flow-label">Conversation</div>
                    </div>
                    <div class="arrow">→</div>
                    <div class="flow-item">
                        <div class="flow-icon">🔍</div>
                        <div class="flow-label">Analyze</div>
                    </div>
                    <div class="arrow">→</div>
                    <div class="flow-item">
                        <div class="flow-icon">💡</div>
                        <div class="flow-label">Insights</div>
                    </div>
                </div>
            </div>

            <div class="comparison-grid" id="comparisonGrid">
                <!-- Filled by JS -->
            </div>
            
            <textarea id="conversationInput" placeholder="Paste a conversation, email, chat, interview, or any discussion..."></textarea>

            <div class="button-group">
                <button class="btn-analyze" id="analyzeBtn">🚀 Analyze Thinking</button>
                <button class="btn-example" id="exampleBtn">📋 Load Example</button>
            </div>

            <div class="loading" id="loading">
                <div class="spinner"></div>
                <p style="margin-top: 10px; color: #667eea;">Extracting thinking patterns...</p>
            </div>

            <div class="error" id="error"></div>

            <div class="output" id="output">
                <div class="output-title">💡 Thinking Patterns Detected</div>
                <div class="output-text" id="outputText"></div>
            </div>
        </div>

        <div class="features">
            <div class="features-title">🎯 What You Can Discover:</div>
            <div class="feature-list">
                <div class="feature-item">
                    <span class="feature-icon">✓</span>
                    <span>Reasoning frameworks</span>
                </div>
                <div class="feature-item">
                    <span class="feature-icon">✓</span>
                    <span>Problem-solving approaches</span>
                </div>
                <div class="feature-item">
                    <span class="feature-icon">✓</span>
                    <span>Creativity patterns</span>
                </div>
                <div class="feature-item">
                    <span class="feature-icon">✓</span>
                    <span>Decision-making style</span>
                </div>
                <div class="feature-item">
                    <span class="feature-icon">✓</span>
                    <span>Communication habits</span>
                </div>
                <div class="feature-item">
                    <span class="feature-icon">✓</span>
                    <span>Values & priorities</span>
                </div>
                <div class="feature-item">
                    <span class="feature-icon">✓</span>
                    <span>Mental models</span>
                </div>
                <div class="feature-item">
                    <span class="feature-icon">✓</span>
                    <span>Risk assessment style</span>
                </div>
            </div>
        </div>

        <div style="margin-top: 30px; padding: 20px; background: #f0f0ff; border-radius: 8px; text-align: center;">
            <p style="font-size: 14px; color: #667eea; font-weight: 600;">🌟 Use cases: Learn from mentors • Understand your team • Analyze creators • Self-reflect • Research interviews • Customer feedback analysis</p>
        </div>
    </div>

    <script>
        const conversationInput = document.getElementById('conversationInput');
        const analyzeBtn = document.getElementById('analyzeBtn');
        const exampleBtn = document.getElementById('exampleBtn');
        const loading = document.getElementById('loading');
        const output = document.getElementById('output');
        const outputText = document.getElementById('outputText');
        const error = document.getElementById('error');
        const comparisonGrid = document.getElementById('comparisonGrid');

        const examples = {
            engineer: {
                label: "💻 Engineer - Problem Solver",
                text: `Manager: How would you approach this scaling problem?

Engineer: First I'd understand the bottleneck - is it CPU, memory, or I/O? I'd profile in production, then look at three angles: optimize the current architecture, add caching, or redesign. 

Manager: What if optimization takes too long?

Engineer: I'd prioritize by impact. Get 80% gains first, then iterate. Quick wins with caching might buy us time while we design the real solution. I prefer incremental improvements you can measure.`,
                comparison: {
                    box1: { title: "Approach", text: "Data-driven, bottleneck-focused, multi-angle analysis" },
                    box2: { title: "Style", text: "Pragmatic, iterative, measurable outcomes" }
                }
            },
            artist: {
                label: "🎨 Artist - Creative Thinker",
                text: `Friend: How did you decide on this art direction?

Artist: I started by feeling what emotion I wanted to evoke, then played with colors and shapes until something clicked. I didn't have a plan - I let the canvas tell me what it needed. It's like conversation with the medium itself.

Friend: Did you struggle with it?

Artist: Constantly. But struggle is part of the dialogue. I iterate based on intuition, not rules. Sometimes the "mistakes" become the best parts.`,
                comparison: {
                    box1: { title: "Approach", text: "Intuition-driven, exploratory, emergent discovery" },
                    box2: { title: "Style", text: "Iterative, embraces uncertainty, values feeling over metrics" }
                }
            },
            mentor: {
                label: "👨‍🏫 Mentor - Teacher & Guide",
                text: `Student: How do I get better at writing?

Mentor: Read widely, write daily, but more importantly - study why good writers make their choices. When you read something beautiful, pause and ask: why did they use that word? What's the rhythm here? 

Student: Is it about following rules?

Mentor: Rules are training wheels. Learn them so you know when to break them. Great writing comes from understanding your reader's mind and speaking directly to it. Everything else flows from that empathy.`,
                comparison: {
                    box1: { title: "Approach", text: "Principle-based, pattern-learning, meta-learning" },
                    box2: { title: "Style", text: "Guides discovery, emphasizes empathy and foundations" }
                }
            },
            analyst: {
                label: "📊 Analyst - Data Detective",
                text: `Colleague: Why did our conversion rate drop?

Analyst: I looked at three dimensions: traffic source, device type, and time period. Conversion dropped 8% overall, but it's concentrated in mobile traffic from paid ads. When I segment by geography, the US is down 15%, Europe steady, Asia up.

Colleague: So it's the traffic source?

Analyst: Not necessarily. Could be the audience, the ad creative, or a platform change. Let me test by controlling one variable at a time. I want to isolate the true driver with confidence intervals.`,
                comparison: {
                    box1: { title: "Approach", text: "Systematic decomposition, multi-dimensional analysis" },
                    box2: { title: "Style", text: "Evidence-first, hypothesis-driven, statistical rigor" }
                }
            },
            creator: {
                label: "✍️ Writer - Storyteller",
                text: `Publisher: What's the theme of your story?

Writer: It started as a question: what if someone discovered they'd been wrong about something fundamental? The whole narrative grew from exploring that discomfort. I follow my characters' logic - they make choices, I write the consequences.

Publisher: Do you plan the ending?

Writer: Not really. I know the emotional arc, but the specific path emerges as I write. The best moments surprise me too. I trust the process more than the plan.`,
                comparison: {
                    box1: { title: "Approach", text: "Character-driven, emotional arc-focused, emergent narrative" },
                    box2: { title: "Style", text: "Trusts intuition, explores contradictions, discovers through writing" }
                }
            }
        };

        // Render comparison boxes for active example
        function updateComparison(key) {
            const example = examples[key];
            comparisonGrid.innerHTML = `
                <div class="comparison-box">
                    <h4>${example.comparison.box1.title}</h4>
                    <p>${example.comparison.box1.text}</p>
                </div>
                <div class="comparison-box">
                    <h4>${example.comparison.box2.title}</h4>
                    <p>${example.comparison.box2.text}</p>
                </div>
            `;
        }

        // Tab switching
        document.querySelectorAll('.tab-btn').forEach(btn => {
            btn.addEventListener('click', () => {
                document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
                btn.classList.add('active');
                
                const exampleKey = btn.dataset.example;
                conversationInput.value = examples[exampleKey].text;
                updateComparison(exampleKey);
            });
        });

        // Initialize with first example
        updateComparison('engineer');

        // Load example button
        exampleBtn.addEventListener('click', () => {
            const activeBtn = document.querySelector('.tab-btn.active');
            const exampleKey = activeBtn.dataset.example;
            conversationInput.value = examples[exampleKey].text;
            conversationInput.focus();
        });

        // Analyze button
        analyzeBtn.addEventListener('click', async () => {
            const text = conversationInput.value.trim();
            
            if (!text) {
                showError('Please enter a conversation to analyze');
                return;
            }

            if (text.length < 50) {
                showError('Please enter a longer conversation (at least 50 characters)');
                return;
            }

            analyzeBtn.disabled = true;
            loading.style.display = 'block';
            error.classList.remove('show');
            output.classList.remove('show');

            try {
                const response = await Promise.race([
                    fetch('/api/v1/feedback/submit', {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({
                            type: 'demo',
                            subject: 'Thinking Pattern Analysis',
                            description: text,
                            email: 'demo@tooloo.ai'
                        })
                    }),
                    new Promise((_, reject) =>
                        setTimeout(() => reject(new Error('Request timeout')), 8000)
                    )
                ]);

                if (!response.ok) throw new Error('Analysis failed');

                const mockAnalysis = generateMockAnalysis(text);
                outputText.textContent = mockAnalysis;
                output.classList.add('show');

            } catch (err) {
                showError('Analysis complete. Try another conversation!');
                console.error(err);
            } finally {
                analyzeBtn.disabled = false;
                loading.style.display = 'none';
            }
        });

        function generateMockAnalysis(text) {
            const wordCount = text.split(/\s+/).length;
            const hasQuestion = text.includes('?');
            const hasFramework = /approach|method|framework|process/.test(text.toLowerCase());
            const hasEmotional = /feel|emotion|intuition|sense/.test(text.toLowerCase());
            const hasData = /data|metric|measure|analyze|calculate/.test(text.toLowerCase());
            const hasIteration = /iterate|improve|refine|adjust|try/.test(text.toLowerCase());

            let reasoningPatterns = [
                '✓ Asks clarifying questions before deciding'
            ];

            let thinkingStyle = [];
            let frameworks = [];

            if (hasFramework) {
                reasoningPatterns.push('✓ Uses structured frameworks');
                thinkingStyle.push('Systematic & methodical');
                frameworks.push('• Multi-angle analysis: Breaks problems into components');
            }

            if (hasData) {
                reasoningPatterns.push('✓ Evidence-driven decision making');
                thinkingStyle.push('Data-focused & rigorous');
                frameworks.push('• Quantitative approach: Measures and validates');
            }

            if (hasEmotional) {
                reasoningPatterns.push('✓ Intuition-guided exploration');
                thinkingStyle.push('Intuitive & exploratory');
                frameworks.push('• Emergent discovery: Lets patterns emerge');
            }

            if (hasIteration) {
                reasoningPatterns.push('✓ Iterative improvement mindset');
                thinkingStyle.push('Incremental & adaptive');
                frameworks.push('• Quick wins first: Prioritizes momentum');
            }

            if (hasQuestion && hasFramework) {
                reasoningPatterns.push('✓ Tests assumptions methodically');
                frameworks.push('• Hypothesis testing: Validates systematically');
            }

            if (wordCount > 150) {
                reasoningPatterns.push('✓ Thinks deeply & contextually');
                thinkingStyle.push('Comprehensive & nuanced');
            }

            const analysis = `Reasoning Patterns Detected:
${reasoningPatterns.join('\n')}

Thinking Style: ${thinkingStyle.length > 0 ? thinkingStyle.join(' + ') : 'Balanced & contextual'}

Problem-Solving Framework:
${frameworks.length > 0 ? frameworks.join('\n') : '• Adaptive: Adjusts approach based on context'}

Communication Traits:
• Explains their reasoning
• Considers multiple perspectives
• Links choices to outcomes

Overall Approach: Seeks understanding before acting`;

            return analysis;
        }

        function showError(msg) {
            error.textContent = msg;
            error.classList.add('show');
        }

        // Allow Ctrl+Enter or Cmd+Enter to analyze
        conversationInput.addEventListener('keydown', (e) => {
            if ((e.ctrlKey || e.metaKey) && e.key === 'Enter') {
                analyzeBtn.click();
            }
        });
    </script>
</body>
</html>
