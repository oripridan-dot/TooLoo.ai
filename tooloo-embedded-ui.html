
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TooLoo.ai Control Panel</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: var(--vscode-editor-background, #1e1e1e);
            color: var(--vscode-editor-foreground, #d4d4d4);
            height: 100vh;
            overflow: hidden;
        }
        
        .control-panel {
            display: grid;
            grid-template-columns: 1fr 1fr;
            height: 100vh;
            gap: 0;
        }
        
        .left-panel {
            background: var(--vscode-sideBar-background, #252526);
            border-right: 1px solid var(--vscode-panel-border, #3c3c3c);
            overflow-y: auto;
        }
        
        .right-panel {
            background: var(--vscode-panel-background, #181818);
            overflow-y: auto;
        }
        
        .header {
            background: var(--vscode-statusBar-background, #007acc);
            color: var(--vscode-statusBar-foreground, #fff);
            padding: 12px 16px;
            font-weight: 600;
            border-bottom: 1px solid var(--vscode-panel-border, #3c3c3c);
        }
        
        .status-bar {
            background: var(--vscode-statusBar-noFolderBackground, #68217a);
            color: var(--vscode-statusBar-foreground, #fff);
            padding: 8px 16px;
            font-size: 12px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .status-indicator {
            display: flex;
            align-items: center;
            gap: 6px;
        }
        
        .status-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: #4CAF50;
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }
        
        .panel-content {
            padding: 16px;
        }
        
        .monitor-section {
            margin-bottom: 20px;
        }
        
        .monitor-title {
            color: var(--vscode-foreground, #cccccc);
            font-size: 14px;
            font-weight: 600;
            margin-bottom: 12px;
            padding: 8px 12px;
            background: var(--vscode-button-background, #0e639c);
            border-radius: 4px;
        }
        
        .metric {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px 0;
            border-bottom: 1px solid var(--vscode-panel-border, #3c3c3c);
        }
        
        .metric:last-child {
            border-bottom: none;
        }
        
        .metric-label {
            font-size: 13px;
            color: var(--vscode-descriptionForeground, #cccccc);
        }
        
        .metric-value {
            font-size: 13px;
            font-weight: 600;
            color: var(--vscode-foreground, #d4d4d4);
        }
        
        .chat-container {
            height: calc(100vh - 120px);
            display: flex;
            flex-direction: column;
        }
        
        .chat-messages {
            flex: 1;
            overflow-y: auto;
            padding: 16px;
            border-bottom: 1px solid var(--vscode-panel-border, #3c3c3c);
        }
        
        .message {
            margin-bottom: 16px;
            padding: 12px;
            border-radius: 6px;
            max-width: 85%;
        }
        
        .message.user {
            background: var(--vscode-button-background, #0e639c);
            margin-left: auto;
            color: var(--vscode-button-foreground, #fff);
        }
        
        .message.assistant {
            background: var(--vscode-input-background, #3c3c3c);
            color: var(--vscode-input-foreground, #cccccc);
        }
        
        .chat-input-container {
            padding: 16px;
            background: var(--vscode-panel-background, #181818);
        }
        
        .chat-input {
            width: 100%;
            padding: 12px;
            background: var(--vscode-input-background, #3c3c3c);
            border: 1px solid var(--vscode-input-border, #3c3c3c);
            color: var(--vscode-input-foreground, #cccccc);
            border-radius: 4px;
            font-size: 14px;
            resize: vertical;
            min-height: 40px;
        }
        
        .chat-input:focus {
            outline: none;
            border-color: var(--vscode-focusBorder, #007acc);
        }
        
        .action-buttons {
            display: flex;
            gap: 8px;
            margin-top: 12px;
        }
        
        .btn {
            padding: 8px 16px;
            background: var(--vscode-button-background, #0e639c);
            color: var(--vscode-button-foreground, #fff);
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 13px;
            transition: background-color 0.2s;
        }
        
        .btn:hover {
            background: var(--vscode-button-hoverBackground, #1177bb);
        }
        
        .btn.secondary {
            background: var(--vscode-button-secondaryBackground, #5f6a79);
            color: var(--vscode-button-secondaryForeground, #fff);
        }
        
        .btn.secondary:hover {
            background: var(--vscode-button-secondaryHoverBackground, #6c7583);
        }
    </style>
</head>
<body>
    <div class="status-bar">
        <div class="status-indicator">
            <div class="status-dot"></div>
            <span>TooLoo.ai Active</span>
        </div>
        <div>
            <span id="timestamp">3:56:52 PM</span>
        </div>
    </div>

    <div class="control-panel">
        <!-- Left Panel - Monitor -->
        <div class="left-panel">
            <div class="header">ðŸ“Š System Monitor</div>
            <div class="panel-content">
                
                <div class="monitor-section">
                    <div class="monitor-title">Server Status</div>
                    <div class="metric">
                        <span class="metric-label">Status</span>
                        <span class="metric-value" id="server-status">Running</span>
                    </div>
                    <div class="metric">
                        <span class="metric-label">Port</span>
                        <span class="metric-value" id="server-port">3000</span>
                    </div>
                    <div class="metric">
                        <span class="metric-label">Uptime</span>
                        <span class="metric-value" id="uptime">0m</span>
                    </div>
                    <div class="metric">
                        <span class="metric-label">Requests</span>
                        <span class="metric-value" id="request-count">0</span>
                    </div>
                </div>

                <div class="monitor-section">
                    <div class="monitor-title">AI Providers</div>
                    <div class="metric">
                        <span class="metric-label">DeepSeek</span>
                        <span class="metric-value">âœ… Ready</span>
                    </div>
                    <div class="metric">
                        <span class="metric-label">Claude</span>
                        <span class="metric-value">âœ… Ready</span>
                    </div>
                    <div class="metric">
                        <span class="metric-label">OpenAI</span>
                        <span class="metric-value">âœ… Ready</span>
                    </div>
                </div>

                <div class="monitor-section">
                    <div class="monitor-title">Screen Visibility</div>
                    <div class="metric">
                        <span class="metric-label">Status</span>
                        <span class="metric-value">ðŸŽ¯ Active</span>
                    </div>
                    <div class="metric">
                        <span class="metric-label">Screenshots</span>
                        <span class="metric-value" id="screenshot-count">3</span>
                    </div>
                    <div class="metric">
                        <span class="metric-label">Analysis</span>
                        <span class="metric-value">ðŸ“¸ Ready</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Right Panel - Chat -->
        <div class="right-panel">
            <div class="header">ðŸ’¬ TooLoo.ai Chat</div>
            <div class="chat-container">
                <div class="chat-messages" id="chat-messages">
                    <div class="message assistant">
                        <strong>TooLoo.ai:</strong> Control panel is now embedded above your terminal! Your screen visibility concept is working - this UI appears exactly where you wanted it.
                    </div>
                    <div class="message assistant">
                        <strong>System:</strong> Server running on port 3000. Screenshot documentation active. Ready for your commands.
                    </div>
                </div>
                
                <div class="chat-input-container">
                    <textarea 
                        class="chat-input" 
                        id="chat-input" 
                        placeholder="Type your message to TooLoo.ai..."
                        rows="2"
                    ></textarea>
                    <div class="action-buttons">
                        <button class="btn" onclick="sendMessage()">Send</button>
                        <button class="btn secondary" onclick="takeScreenshot()">Screenshot</button>
                        <button class="btn secondary" onclick="clearChat()">Clear</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        const startTime = Date.now();
        let requestCount = 0;
        let screenshotCount = 3;

        function updateTimestamp() {
            document.getElementById('timestamp').textContent = new Date().toLocaleTimeString();
        }

        function updateUptime() {
            const uptimeMinutes = Math.floor((Date.now() - startTime) / 60000);
            document.getElementById('uptime').textContent = uptimeMinutes + 'm';
        }

        function sendMessage() {
            const input = document.getElementById('chat-input');
            const messages = document.getElementById('chat-messages');
            
            if (input.value.trim()) {
                // Add user message
                const userMsg = document.createElement('div');
                userMsg.className = 'message user';
                userMsg.innerHTML = '<strong>You:</strong> ' + input.value;
                messages.appendChild(userMsg);
                
                // Simulate AI response
                setTimeout(() => {
                    const aiMsg = document.createElement('div');
                    aiMsg.className = 'message assistant';
                    aiMsg.innerHTML = '<strong>TooLoo.ai:</strong> Message received. Processing your request...';
                    messages.appendChild(aiMsg);
                    messages.scrollTop = messages.scrollHeight;
                }, 500);
                
                input.value = '';
                messages.scrollTop = messages.scrollHeight;
                
                requestCount++;
                document.getElementById('request-count').textContent = requestCount;
            }
        }

        function takeScreenshot() {
            screenshotCount++;
            document.getElementById('screenshot-count').textContent = screenshotCount;
            
            const messages = document.getElementById('chat-messages');
            const msg = document.createElement('div');
            msg.className = 'message assistant';
            msg.innerHTML = '<strong>System:</strong> ðŸ“¸ Screenshot captured for visual documentation. Screen visibility active.';
            messages.appendChild(msg);
            messages.scrollTop = messages.scrollHeight;
        }

        function clearChat() {
            const messages = document.getElementById('chat-messages');
            messages.innerHTML = '<div class="message assistant"><strong>TooLoo.ai:</strong> Chat cleared. Control panel ready for new conversation.</div>';
        }

        // Enter key to send message
        document.getElementById('chat-input').addEventListener('keydown', function(e) {
            if (e.key === 'Enter' && !e.shiftKey) {
                e.preventDefault();
                sendMessage();
            }
        });

        // Update UI every second
        setInterval(() => {
            updateTimestamp();
            updateUptime();
        }, 1000);

        // Initial setup
        updateTimestamp();
        updateUptime();
        
        console.log('ðŸŽ¯ TooLoo.ai embedded UI loaded successfully!');
    </script>
</body>
</html>
