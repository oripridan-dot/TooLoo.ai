<!DOCTYPE html>
<!-- @version 2.1.11 -->
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Design System Analytics Dashboard</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
            color: #e2e8f0;
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1600px;
            margin: 0 auto;
        }

        header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            padding: 20px;
            background: rgba(30, 41, 59, 0.8);
            border: 1px solid rgba(148, 163, 184, 0.2);
            border-radius: 12px;
            backdrop-filter: blur(10px);
        }

        header h1 {
            font-size: 28px;
            font-weight: 700;
            background: linear-gradient(135deg, #60a5fa 0%, #3b82f6 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .header-controls {
            display: flex;
            gap: 15px;
            align-items: center;
        }

        .control-group {
            display: flex;
            gap: 10px;
            align-items: center;
        }

        .control-group label {
            font-size: 14px;
            color: #cbd5e1;
            font-weight: 500;
        }

        select, input {
            padding: 8px 12px;
            background: rgba(15, 23, 42, 0.8);
            border: 1px solid rgba(148, 163, 184, 0.2);
            border-radius: 6px;
            color: #e2e8f0;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        select:hover, input:hover {
            border-color: rgba(96, 165, 250, 0.5);
            background: rgba(30, 41, 59, 0.9);
        }

        select:focus, input:focus {
            outline: none;
            border-color: #60a5fa;
            box-shadow: 0 0 0 3px rgba(96, 165, 250, 0.1);
        }

        .status-bar {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 30px;
        }

        .status-card {
            background: rgba(30, 41, 59, 0.8);
            border: 1px solid rgba(148, 163, 184, 0.2);
            border-radius: 12px;
            padding: 20px;
            backdrop-filter: blur(10px);
            transition: all 0.3s ease;
        }

        .status-card:hover {
            border-color: rgba(96, 165, 250, 0.5);
            transform: translateY(-4px);
            box-shadow: 0 10px 30px rgba(96, 165, 250, 0.1);
        }

        .status-label {
            font-size: 12px;
            color: #94a3b8;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 8px;
            font-weight: 600;
        }

        .status-value {
            font-size: 32px;
            font-weight: 700;
            background: linear-gradient(135deg, #60a5fa 0%, #3b82f6 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .status-detail {
            font-size: 12px;
            color: #cbd5e1;
            margin-top: 8px;
        }

        .dashboard-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(500px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .chart-container {
            background: rgba(30, 41, 59, 0.8);
            border: 1px solid rgba(148, 163, 184, 0.2);
            border-radius: 12px;
            padding: 25px;
            backdrop-filter: blur(10px);
            transition: all 0.3s ease;
        }

        .chart-container:hover {
            border-color: rgba(96, 165, 250, 0.5);
            box-shadow: 0 10px 30px rgba(96, 165, 250, 0.1);
        }

        .chart-title {
            font-size: 16px;
            font-weight: 700;
            margin-bottom: 20px;
            color: #e2e8f0;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .chart-icon {
            width: 24px;
            height: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: rgba(96, 165, 250, 0.2);
            border-radius: 6px;
            font-size: 14px;
        }

        .chart-wrapper {
            position: relative;
            height: 300px;
        }

        .full-width {
            grid-column: 1 / -1;
        }

        .metrics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin-top: 20px;
            padding-top: 20px;
            border-top: 1px solid rgba(148, 163, 184, 0.1);
        }

        .metric {
            text-align: center;
        }

        .metric-label {
            font-size: 12px;
            color: #94a3b8;
            margin-bottom: 5px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .metric-value {
            font-size: 24px;
            font-weight: 700;
            color: #60a5fa;
        }

        .loading {
            display: flex;
            align-items: center;
            justify-content: center;
            height: 300px;
            color: #94a3b8;
        }

        .spinner {
            width: 40px;
            height: 40px;
            border: 3px solid rgba(96, 165, 250, 0.2);
            border-top-color: #60a5fa;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-right: 15px;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        .error {
            background: rgba(239, 68, 68, 0.1);
            border: 1px solid rgba(239, 68, 68, 0.3);
            color: #fca5a5;
            padding: 15px;
            border-radius: 8px;
            font-size: 14px;
        }

        .legend {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            margin-top: 15px;
            font-size: 12px;
            justify-content: center;
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 8px;
            color: #cbd5e1;
        }

        .legend-color {
            width: 12px;
            height: 12px;
            border-radius: 3px;
        }

        .accessibility-levels {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            margin-top: 15px;
        }

        .accessibility-level {
            background: rgba(96, 165, 250, 0.1);
            border: 1px solid rgba(96, 165, 250, 0.2);
            border-radius: 8px;
            padding: 15px;
            text-align: center;
        }

        .accessibility-level.high {
            border-color: rgba(34, 197, 94, 0.5);
            background: rgba(34, 197, 94, 0.1);
        }

        .accessibility-level.medium {
            border-color: rgba(251, 146, 60, 0.5);
            background: rgba(251, 146, 60, 0.1);
        }

        .accessibility-level.low {
            border-color: rgba(239, 68, 68, 0.5);
            background: rgba(239, 68, 68, 0.1);
        }

        .accessibility-label {
            font-size: 12px;
            color: #94a3b8;
            text-transform: uppercase;
            margin-bottom: 5px;
        }

        .accessibility-value {
            font-size: 28px;
            font-weight: 700;
            color: #e2e8f0;
        }

        .industry-card {
            background: rgba(96, 165, 250, 0.1);
            border: 1px solid rgba(96, 165, 250, 0.2);
            border-radius: 8px;
            padding: 15px;
            margin-top: 10px;
        }

        .industry-name {
            font-weight: 600;
            color: #e2e8f0;
            margin-bottom: 8px;
        }

        .industry-stat {
            display: flex;
            justify-content: space-between;
            font-size: 12px;
            color: #cbd5e1;
            margin-bottom: 4px;
        }

        .progress-bar {
            width: 100%;
            height: 4px;
            background: rgba(148, 163, 184, 0.1);
            border-radius: 2px;
            margin-top: 4px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #60a5fa 0%, #3b82f6 100%);
            border-radius: 2px;
            transition: width 0.3s ease;
        }

        .archetype-badge {
            display: inline-block;
            background: rgba(96, 165, 250, 0.2);
            border: 1px solid rgba(96, 165, 250, 0.5);
            color: #60a5fa;
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
            margin-top: 10px;
        }

        .refresh-btn {
            padding: 8px 16px;
            background: linear-gradient(135deg, #60a5fa 0%, #3b82f6 100%);
            border: none;
            border-radius: 6px;
            color: white;
            font-weight: 600;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.3s ease;
        }

        .refresh-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(96, 165, 250, 0.3);
        }

        .refresh-btn:active {
            transform: translateY(0);
        }

        .refresh-btn.loading {
            opacity: 0.7;
            cursor: not-allowed;
        }

        .tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            border-bottom: 1px solid rgba(148, 163, 184, 0.2);
        }

        .tab {
            padding: 10px 20px;
            background: none;
            border: none;
            color: #cbd5e1;
            cursor: pointer;
            font-size: 14px;
            font-weight: 500;
            border-bottom: 3px solid transparent;
            transition: all 0.3s ease;
        }

        .tab.active {
            color: #60a5fa;
            border-bottom-color: #60a5fa;
        }

        .tab:hover {
            color: #93c5fd;
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        .comparison-table {
            width: 100%;
            border-collapse: collapse;
            font-size: 13px;
        }

        .comparison-table th,
        .comparison-table td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid rgba(148, 163, 184, 0.1);
        }

        .comparison-table th {
            background: rgba(96, 165, 250, 0.1);
            color: #60a5fa;
            font-weight: 600;
        }

        .comparison-table tr:hover {
            background: rgba(96, 165, 250, 0.05);
        }

        .comparison-value {
            color: #cbd5e1;
        }

        .comparison-value.higher {
            color: #34d399;
        }

        .comparison-value.lower {
            color: #f87171;
        }

        .footer {
            text-align: center;
            padding: 20px;
            color: #64748b;
            font-size: 12px;
            margin-top: 40px;
            border-top: 1px solid rgba(148, 163, 184, 0.1);
        }

        @media (max-width: 1200px) {
            .dashboard-grid {
                grid-template-columns: 1fr;
            }
        }

        .tooltip {
            position: relative;
            display: inline-block;
        }

        .tooltip:hover::after {
            content: attr(data-tooltip);
            position: absolute;
            bottom: 125%;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(15, 23, 42, 0.95);
            color: #e2e8f0;
            padding: 8px 12px;
            border-radius: 6px;
            white-space: nowrap;
            font-size: 12px;
            z-index: 1000;
            border: 1px solid rgba(96, 165, 250, 0.3);
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>üìä Design System Analytics</h1>
            <div class="header-controls">
                <div class="control-group">
                    <label for="systemSelect">Design System:</label>
                    <select id="systemSelect">
                        <option value="default">Default System</option>
                        <option value="stripe">Stripe (Example)</option>
                        <option value="figma">Figma (Example)</option>
                    </select>
                </div>
                <button class="refresh-btn" id="refreshBtn">üîÑ Refresh</button>
            </div>
        </header>

        <div class="status-bar" id="statusBar">
            <div class="status-card">
                <div class="status-label">Design Maturity</div>
                <div class="status-value" id="maturityScore">--</div>
                <div class="status-detail">Out of 100</div>
            </div>
            <div class="status-card">
                <div class="status-label">Token Count</div>
                <div class="status-value" id="tokenCount">--</div>
                <div class="status-detail">Total design tokens</div>
            </div>
            <div class="status-card">
                <div class="status-label">Accessibility</div>
                <div class="status-value" id="accessibilityScore">--</div>
                <div class="status-detail">WCAG compliance</div>
            </div>
            <div class="status-card">
                <div class="status-label">System Archetype</div>
                <div class="status-value" id="archetypeType" style="font-size: 18px;">--</div>
                <div class="status-detail">Classification</div>
            </div>
        </div>

        <div class="tabs">
            <button class="tab active" data-tab="trends">üìà Trends</button>
            <button class="tab" data-tab="clustering">üé® Clustering</button>
            <button class="tab" data-tab="accessibility">‚ôø Accessibility</button>
            <button class="tab" data-tab="governance">üìã Governance</button>
            <button class="tab" data-tab="comparison">üîÑ Comparison</button>
        </div>

        <!-- Trends Tab -->
        <div id="trends" class="tab-content active">
            <div class="dashboard-grid">
                <div class="chart-container">
                    <div class="chart-title">
                        <div class="chart-icon">üìä</div>
                        Token Growth Trend
                    </div>
                    <div class="chart-wrapper">
                        <canvas id="trendChart"></canvas>
                    </div>
                </div>

                <div class="chart-container">
                    <div class="chart-title">
                        <div class="chart-icon">üìà</div>
                        Maturity Evolution
                    </div>
                    <div class="chart-wrapper">
                        <canvas id="maturityChart"></canvas>
                    </div>
                </div>

                <div class="chart-container full-width">
                    <div class="chart-title">
                        <div class="chart-icon">üéØ</div>
                        System Metrics Over Time
                    </div>
                    <div class="chart-wrapper">
                        <canvas id="metricsChart"></canvas>
                    </div>
                    <div class="metrics-grid">
                        <div class="metric">
                            <div class="metric-label">Avg Growth Rate</div>
                            <div class="metric-value" id="growthRate">--</div>
                        </div>
                        <div class="metric">
                            <div class="metric-label">Volatility</div>
                            <div class="metric-value" id="volatility">--</div>
                        </div>
                        <div class="metric">
                            <div class="metric-label">Predicted Next</div>
                            <div class="metric-value" id="prediction">--</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Clustering Tab -->
        <div id="clustering" class="tab-content">
            <div class="dashboard-grid">
                <div class="chart-container">
                    <div class="chart-title">
                        <div class="chart-icon">üé®</div>
                        Token Clustering (K-Means)
                    </div>
                    <div class="chart-wrapper">
                        <canvas id="clusteringChart"></canvas>
                    </div>
                </div>

                <div class="chart-container">
                    <div class="chart-title">
                        <div class="chart-icon">üìä</div>
                        Token Distribution
                    </div>
                    <div class="chart-wrapper">
                        <canvas id="distributionChart"></canvas>
                    </div>
                </div>

                <div class="chart-container full-width">
                    <div class="chart-title">
                        <div class="chart-icon">üîç</div>
                        Archetype Analysis
                    </div>
                    <div id="archetypeAnalysis">
                        <div class="loading">
                            <div class="spinner"></div>
                            Loading archetype analysis...
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Accessibility Tab -->
        <div id="accessibility" class="tab-content">
            <div class="dashboard-grid">
                <div class="chart-container full-width">
                    <div class="chart-title">
                        <div class="chart-icon">‚ôø</div>
                        WCAG Compliance Audit
                    </div>
                    <div class="accessibility-levels" id="accessibilityLevels">
                        <div class="loading">
                            <div class="spinner"></div>
                            Loading accessibility data...
                        </div>
                    </div>
                </div>

                <div class="chart-container">
                    <div class="chart-title">
                        <div class="chart-icon">‚úÖ</div>
                        Color Contrast
                    </div>
                    <div class="chart-wrapper">
                        <canvas id="contrastChart"></canvas>
                    </div>
                </div>

                <div class="chart-container">
                    <div class="chart-title">
                        <div class="chart-icon">üìê</div>
                        Type Readability
                    </div>
                    <div id="readabilityData">
                        <div class="loading">
                            <div class="spinner"></div>
                            Loading readability metrics...
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Governance Tab -->
        <div id="governance" class="tab-content">
            <div class="dashboard-grid">
                <div class="chart-container">
                    <div class="chart-title">
                        <div class="chart-icon">üìã</div>
                        Version History
                    </div>
                    <div id="versionHistory">
                        <div class="loading">
                            <div class="spinner"></div>
                            Loading version history...
                        </div>
                    </div>
                </div>

                <div class="chart-container">
                    <div class="chart-title">
                        <div class="chart-icon">‚ö†Ô∏è</div>
                        Deprecations
                    </div>
                    <div id="deprecationStatus">
                        <div class="loading">
                            <div class="spinner"></div>
                            Loading deprecations...
                        </div>
                    </div>
                </div>

                <div class="chart-container full-width">
                    <div class="chart-title">
                        <div class="chart-icon">‚úîÔ∏è</div>
                        Approval Workflows
                    </div>
                    <div id="approvalStatus">
                        <div class="loading">
                            <div class="spinner"></div>
                            Loading approval workflows...
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Comparison Tab -->
        <div id="comparison" class="tab-content">
            <div class="dashboard-grid full-width">
                <div class="chart-container full-width">
                    <div class="chart-title">
                        <div class="chart-icon">üîÑ</div>
                        System Comparison
                    </div>
                    <div class="control-group" style="margin-bottom: 20px;">
                        <label for="compareSystem1">Compare with:</label>
                        <select id="compareSystem1">
                            <option value="stripe">Stripe Design System</option>
                            <option value="figma">Figma Design System</option>
                            <option value="shopify">Shopify Design System</option>
                        </select>
                    </div>
                    <div id="comparisonTable">
                        <div class="loading">
                            <div class="spinner"></div>
                            Loading comparison data...
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="footer">
            <p>Design System Analytics Dashboard ‚Ä¢ Real-time data visualization ‚Ä¢ Phase 6+ capabilities</p>
        </div>
    </div>

    <script>
        const API_BASE = 'http://127.0.0.1:3006/api/v1';
        let charts = {};
        let currentSystem = 'default';

        // Initialize dashboard
        document.addEventListener('DOMContentLoaded', () => {
            setupEventListeners();
            loadDashboard();
        });

        function setupEventListeners() {
            // Tab switching
            document.querySelectorAll('.tab').forEach(tab => {
                tab.addEventListener('click', (e) => {
                    const tabName = e.target.dataset.tab;
                    switchTab(tabName);
                });
            });

            // System selection
            document.getElementById('systemSelect').addEventListener('change', (e) => {
                currentSystem = e.target.value;
                loadDashboard();
            });

            // Refresh button
            document.getElementById('refreshBtn').addEventListener('click', () => {
                const btn = document.getElementById('refreshBtn');
                btn.classList.add('loading');
                btn.disabled = true;
                loadDashboard().finally(() => {
                    btn.classList.remove('loading');
                    btn.disabled = false;
                });
            });

            // Comparison system selection
            document.getElementById('compareSystem1')?.addEventListener('change', loadComparison);
        }

        function switchTab(tabName) {
            // Hide all tabs
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.classList.remove('active');
            });
            document.querySelectorAll('.tab').forEach(btn => {
                btn.classList.remove('active');
            });

            // Show selected tab
            document.getElementById(tabName).classList.add('active');
            document.querySelector(`[data-tab="${tabName}"]`).classList.add('active');

            // Load tab-specific data
            if (tabName === 'clustering') loadClusteringData();
            if (tabName === 'accessibility') loadAccessibilityData();
            if (tabName === 'governance') loadGovernanceData();
            if (tabName === 'comparison') loadComparison();
        }

        async function loadDashboard() {
            try {
                // Load sample data (in production, fetch from real endpoints)
                const systemData = generateSampleSystem();
                updateStatusBar(systemData);
                loadTrendsData(systemData);
            } catch (error) {
                console.error('Dashboard load error:', error);
                showError('Failed to load dashboard data');
            }
        }

        function updateStatusBar(system) {
            document.getElementById('maturityScore').textContent = Math.round(system.maturity);
            document.getElementById('tokenCount').textContent = system.tokenCount;
            document.getElementById('accessibilityScore').textContent = Math.round(system.accessibility) + '%';
            document.getElementById('archetypeType').textContent = system.archetype;
        }

        function loadTrendsData(system) {
            // Trend Chart
            const trendCtx = document.getElementById('trendChart').getContext('2d');
            if (charts.trend) charts.trend.destroy();
            charts.trend = new Chart(trendCtx, {
                type: 'line',
                data: {
                    labels: ['Week 1', 'Week 2', 'Week 3', 'Week 4', 'Week 5', 'Week 6'],
                    datasets: [{
                        label: 'Total Tokens',
                        data: [25, 32, 38, 45, 52, 58],
                        borderColor: '#60a5fa',
                        backgroundColor: 'rgba(96, 165, 250, 0.1)',
                        borderWidth: 3,
                        fill: true,
                        tension: 0.4,
                        pointRadius: 5,
                        pointBackgroundColor: '#60a5fa',
                        pointBorderColor: '#fff',
                        pointBorderWidth: 2,
                        pointHoverRadius: 7,
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { display: true, labels: { color: '#cbd5e1', font: { size: 12 } } },
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            ticks: { color: '#94a3b8' },
                            grid: { color: 'rgba(148, 163, 184, 0.1)' },
                        },
                        x: {
                            ticks: { color: '#94a3b8' },
                            grid: { color: 'rgba(148, 163, 184, 0.1)' },
                        }
                    }
                }
            });

            // Maturity Chart
            const maturityCtx = document.getElementById('maturityChart').getContext('2d');
            if (charts.maturity) charts.maturity.destroy();
            charts.maturity = new Chart(maturityCtx, {
                type: 'line',
                data: {
                    labels: ['Month 1', 'Month 2', 'Month 3', 'Month 4', 'Month 5', 'Month 6'],
                    datasets: [{
                        label: 'Maturity Score',
                        data: [35, 42, 54, 62, 73, 82],
                        borderColor: '#34d399',
                        backgroundColor: 'rgba(52, 211, 153, 0.1)',
                        borderWidth: 3,
                        fill: true,
                        tension: 0.4,
                        pointRadius: 5,
                        pointBackgroundColor: '#34d399',
                        pointBorderColor: '#fff',
                        pointBorderWidth: 2,
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { display: true, labels: { color: '#cbd5e1', font: { size: 12 } } },
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            max: 100,
                            ticks: { color: '#94a3b8' },
                            grid: { color: 'rgba(148, 163, 184, 0.1)' },
                        },
                        x: {
                            ticks: { color: '#94a3b8' },
                            grid: { color: 'rgba(148, 163, 184, 0.1)' },
                        }
                    }
                }
            });

            // Metrics Chart
            const metricsCtx = document.getElementById('metricsChart').getContext('2d');
            if (charts.metrics) charts.metrics.destroy();
            charts.metrics = new Chart(metricsCtx, {
                type: 'bar',
                data: {
                    labels: ['Colors', 'Typography', 'Spacing', 'Components', 'Patterns'],
                    datasets: [{
                        label: 'Token Count',
                        data: [12, 8, 15, 24, 6],
                        backgroundColor: [
                            'rgba(96, 165, 250, 0.8)',
                            'rgba(52, 211, 153, 0.8)',
                            'rgba(251, 146, 60, 0.8)',
                            'rgba(139, 92, 246, 0.8)',
                            'rgba(236, 72, 153, 0.8)',
                        ],
                        borderColor: [
                            '#60a5fa',
                            '#34d399',
                            '#fb923c',
                            '#8b5cf6',
                            '#ec4899',
                        ],
                        borderWidth: 2,
                        borderRadius: 6,
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { display: true, labels: { color: '#cbd5e1', font: { size: 12 } } },
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            ticks: { color: '#94a3b8' },
                            grid: { color: 'rgba(148, 163, 184, 0.1)' },
                        },
                        x: {
                            ticks: { color: '#94a3b8' },
                            grid: { color: 'rgba(148, 163, 184, 0.1)' },
                        }
                    }
                }
            });

            // Update metrics
            document.getElementById('growthRate').textContent = '8.5%';
            document.getElementById('volatility').textContent = '2.1%';
            document.getElementById('prediction').textContent = '68 tokens';
        }

        function loadClusteringData() {
            // Clustering Chart
            const clusterCtx = document.getElementById('clusteringChart').getContext('2d');
            if (charts.clustering) charts.clustering.destroy();
            charts.clustering = new Chart(clusterCtx, {
                type: 'scatter',
                data: {
                    datasets: [
                        {
                            label: 'Cluster 1',
                            data: [
                                {x: 10, y: 20}, {x: 15, y: 25}, {x: 12, y: 22}
                            ],
                            backgroundColor: 'rgba(96, 165, 250, 0.8)',
                            borderColor: '#60a5fa',
                            borderWidth: 2,
                            pointRadius: 6,
                        },
                        {
                            label: 'Cluster 2',
                            data: [
                                {x: 30, y: 35}, {x: 35, y: 40}, {x: 32, y: 38}
                            ],
                            backgroundColor: 'rgba(34, 197, 94, 0.8)',
                            borderColor: '#22c55e',
                            borderWidth: 2,
                            pointRadius: 6,
                        },
                        {
                            label: 'Cluster 3',
                            data: [
                                {x: 50, y: 55}, {x: 55, y: 60}, {x: 52, y: 58}
                            ],
                            backgroundColor: 'rgba(251, 146, 60, 0.8)',
                            borderColor: '#fb923c',
                            borderWidth: 2,
                            pointRadius: 6,
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { display: true, labels: { color: '#cbd5e1', font: { size: 12 } } },
                    },
                    scales: {
                        y: {
                            ticks: { color: '#94a3b8' },
                            grid: { color: 'rgba(148, 163, 184, 0.1)' },
                            title: { display: true, text: 'Feature 2' },
                        },
                        x: {
                            ticks: { color: '#94a3b8' },
                            grid: { color: 'rgba(148, 163, 184, 0.1)' },
                            title: { display: true, text: 'Feature 1' },
                        }
                    }
                }
            });

            // Distribution Chart
            const distCtx = document.getElementById('distributionChart').getContext('2d');
            if (charts.distribution) charts.distribution.destroy();
            charts.distribution = new Chart(distCtx, {
                type: 'doughnut',
                data: {
                    labels: ['Colors', 'Typography', 'Spacing', 'Components'],
                    datasets: [{
                        data: [25, 20, 30, 25],
                        backgroundColor: [
                            'rgba(96, 165, 250, 0.8)',
                            'rgba(52, 211, 153, 0.8)',
                            'rgba(251, 146, 60, 0.8)',
                            'rgba(139, 92, 246, 0.8)',
                        ],
                        borderColor: [
                            '#60a5fa',
                            '#34d399',
                            '#fb923c',
                            '#8b5cf6',
                        ],
                        borderWidth: 2,
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { display: true, labels: { color: '#cbd5e1', font: { size: 12 } } },
                    }
                }
            });

            // Archetype Analysis
            const archetypeHtml = `
                <div class="archetype-badge">Enterprise</div>
                <div class="metrics-grid" style="margin-top: 20px;">
                    <div class="metric">
                        <div class="metric-label">Colors</div>
                        <div class="metric-value">12+</div>
                    </div>
                    <div class="metric">
                        <div class="metric-label">Components</div>
                        <div class="metric-value">20+</div>
                    </div>
                    <div class="metric">
                        <div class="metric-label">Maturity</div>
                        <div class="metric-value">82%</div>
                    </div>
                </div>
                <div style="margin-top: 20px; padding-top: 20px; border-top: 1px solid rgba(148, 163, 184, 0.1);">
                    <div style="color: #cbd5e1; font-size: 12px; line-height: 1.8;">
                        <div><strong>Characteristics:</strong></div>
                        <div>‚úì Comprehensive color palette</div>
                        <div>‚úì Well-documented components</div>
                        <div>‚úì High standardization</div>
                        <div>‚úì Strong governance foundation</div>
                    </div>
                </div>
            `;
            document.getElementById('archetypeAnalysis').innerHTML = archetypeHtml;
        }

        function loadAccessibilityData() {
            // Accessibility Levels
            const levelHtml = `
                <div class="accessibility-level high">
                    <div class="accessibility-label">WCAG AAA</div>
                    <div class="accessibility-value">8</div>
                    <div class="status-detail">Colors compliant</div>
                </div>
                <div class="accessibility-level medium">
                    <div class="accessibility-label">WCAG AA</div>
                    <div class="accessibility-value">4</div>
                    <div class="status-detail">Colors compliant</div>
                </div>
                <div class="accessibility-level low">
                    <div class="accessibility-label">Below AA</div>
                    <div class="accessibility-value">2</div>
                    <div class="status-detail">Colors need review</div>
                </div>
            `;
            document.getElementById('accessibilityLevels').innerHTML = levelHtml;

            // Contrast Chart
            const contrastCtx = document.getElementById('contrastChart').getContext('2d');
            if (charts.contrast) charts.contrast.destroy();
            charts.contrast = new Chart(contrastCtx, {
                type: 'bar',
                data: {
                    labels: ['Primary', 'Secondary', 'Error', 'Success', 'Warning'],
                    datasets: [{
                        label: 'Contrast Ratio',
                        data: [9.2, 7.5, 8.1, 7.8, 6.5],
                        backgroundColor: [
                            'rgba(34, 197, 94, 0.8)',
                            'rgba(34, 197, 94, 0.8)',
                            'rgba(34, 197, 94, 0.8)',
                            'rgba(34, 197, 94, 0.8)',
                            'rgba(251, 146, 60, 0.8)',
                        ],
                        borderColor: [
                            '#22c55e',
                            '#22c55e',
                            '#22c55e',
                            '#22c55e',
                            '#fb923c',
                        ],
                        borderWidth: 2,
                        borderRadius: 6,
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { display: true, labels: { color: '#cbd5e1', font: { size: 12 } } },
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            max: 10,
                            ticks: { color: '#94a3b8' },
                            grid: { color: 'rgba(148, 163, 184, 0.1)' },
                        },
                        x: {
                            ticks: { color: '#94a3b8' },
                            grid: { color: 'rgba(148, 163, 184, 0.1)' },
                        }
                    }
                }
            });

            // Readability Data
            const readabilityHtml = `
                <div class="metrics-grid">
                    <div class="metric">
                        <div class="metric-label">Min Size</div>
                        <div class="metric-value">12px</div>
                    </div>
                    <div class="metric">
                        <div class="metric-label">Line Height</div>
                        <div class="metric-value">1.6</div>
                    </div>
                    <div class="metric">
                        <div class="metric-label">Font Weights</div>
                        <div class="metric-value">5</div>
                    </div>
                </div>
            `;
            document.getElementById('readabilityData').innerHTML = readabilityHtml;
        }

        function loadGovernanceData() {
            // Version History
            const versionHtml = `
                <div style="space-y: 12px;">
                    <div class="industry-card" style="background: rgba(52, 211, 153, 0.1); border-color: rgba(52, 211, 153, 0.3);">
                        <div class="industry-name">v2.0 - Design Expansion</div>
                        <div class="industry-stat">
                            <span>Added 12 new colors</span>
                            <span>+6 components</span>
                        </div>
                        <div class="status-detail" style="margin-top: 4px;">3 days ago</div>
                    </div>
                    <div class="industry-card" style="background: rgba(96, 165, 250, 0.1); border-color: rgba(96, 165, 250, 0.3);">
                        <div class="industry-name">v1.5 - Initial Release</div>
                        <div class="industry-stat">
                            <span>12 colors defined</span>
                            <span>8 font sizes</span>
                        </div>
                        <div class="status-detail" style="margin-top: 4px;">2 weeks ago</div>
                    </div>
                </div>
            `;
            document.getElementById('versionHistory').innerHTML = versionHtml;

            // Deprecations
            const deprecHtml = `
                <div style="space-y: 12px;">
                    <div class="industry-card" style="background: rgba(251, 146, 60, 0.1); border-color: rgba(251, 146, 60, 0.3);">
                        <div class="industry-name">color-old-blue</div>
                        <div class="industry-stat">
                            <span>Replaced by: primary-blue</span>
                            <span>Removal: 30 days</span>
                        </div>
                    </div>
                </div>
            `;
            document.getElementById('deprecationStatus').innerHTML = deprecHtml;

            // Approvals
            const approvalHtml = `
                <table class="comparison-table">
                    <thead>
                        <tr>
                            <th>Change</th>
                            <th>Status</th>
                            <th>Approvals</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Add color variants</td>
                            <td><span class="comparison-value higher">‚úì Approved</span></td>
                            <td>2/2</td>
                        </tr>
                        <tr>
                            <td>Update spacing scale</td>
                            <td><span class="comparison-value">‚è≥ Pending</span></td>
                            <td>1/2</td>
                        </tr>
                    </tbody>
                </table>
            `;
            document.getElementById('approvalStatus').innerHTML = approvalHtml;
        }

        function loadComparison() {
            const system = document.getElementById('compareSystem1').value;
            const html = `
                <table class="comparison-table">
                    <thead>
                        <tr>
                            <th>Metric</th>
                            <th>Your System</th>
                            <th>${system.charAt(0).toUpperCase() + system.slice(1)}</th>
                            <th>Difference</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Colors</td>
                            <td class="comparison-value">12</td>
                            <td class="comparison-value">15</td>
                            <td class="comparison-value lower">-3</td>
                        </tr>
                        <tr>
                            <td>Typography</td>
                            <td class="comparison-value">8</td>
                            <td class="comparison-value">10</td>
                            <td class="comparison-value lower">-2</td>
                        </tr>
                        <tr>
                            <td>Components</td>
                            <td class="comparison-value">24</td>
                            <td class="comparison-value">32</td>
                            <td class="comparison-value lower">-8</td>
                        </tr>
                        <tr>
                            <td>Maturity</td>
                            <td class="comparison-value higher">82%</td>
                            <td class="comparison-value">78%</td>
                            <td class="comparison-value higher">+4%</td>
                        </tr>
                        <tr>
                            <td>Accessibility</td>
                            <td class="comparison-value">91%</td>
                            <td class="comparison-value">88%</td>
                            <td class="comparison-value higher">+3%</td>
                        </tr>
                    </tbody>
                </table>
            `;
            document.getElementById('comparisonTable').innerHTML = html;
        }

        function generateSampleSystem() {
            return {
                maturity: 82,
                tokenCount: 65,
                accessibility: 91,
                archetype: 'Enterprise',
                growth: 8.5,
                volatility: 2.1,
            };
        }

        function showError(message) {
            console.error(message);
        }
    </script>
</body>
</html>
